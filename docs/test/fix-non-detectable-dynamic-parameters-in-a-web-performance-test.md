---
title: Visual Studio'da web performans testinde algılanamaz bir dinamik parametreleri düzeltin
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-ide-test
ms.openlocfilehash: 379291059157980a86d0379c69c0d592eee83a99
ms.sourcegitcommit: 5b767247b3d819a99deb0dbce729a0562b9654ba
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/20/2018
ms.locfileid: "39177831"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı Web siteleri, web isteklerinin bazılarını işlemek için dinamik parametreler kullanır. Dinamik bir parametre değeri, kullanıcı uygulamayı çalıştırdığında her seferinde yeniden bir parametredir. Bir dinamik parametreyi, bir oturum kimliği örneğidir Oturum kimliği genellikle her 5 ila 30 dakika arasında değişir. Web Performans Testi Kaydedicisi ve kayıttan yürütme motoru en sık karşılaşılan dinamik parametre otomatik olarak işler:

-   Tanımlama bilgisi değeri içinde düzenlenmiş dinamik parametre değerleri. Web performans testi motoru kayıttan yürütme sırasında otomatik olarak işler.

-   ASP.NET gibi HTML sayfalarında gizli alanlar olarak düzenlenmiş dinamik parametre değerleri durumunu görüntüleyebilirsiniz. Bunlar otomatik olarak teste gizli alan ayıklama kuralları ekler kaydedici tarafından işlenir.

-   Sorgu dizisi veya form düzenlenmiş dinamik parametre değerleri, parametreleri gönderin. Bir web performansı sınamasını kaydettikten sonra bunlar dinamik parametrelerin algılanması aracılığıyla işlenir.

Bazı dinamik parametre türleri algılanmadı. Bir algılanmayan dinamik parametre, web performans testinizi test her çalıştığında dinamik değer farklı olacaktır çünkü çalıştırdığınızda başarısız olmasına neden olur. Bu parametreleri doğru bir şekilde işlemek için ayıklama kuralları için dinamik parametreleri web performans testlerinizdeki el ile ekleyebilirsiniz.

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Oluşturma ve dinamik parametrelerle web uygulaması çalıştırma

Hem algılanabilir hem de algılanamaz bir dinamik parametre göstermek için birkaç denetim ve özel kod ile üç web formu bulunan basit bir ASP.NET web uygulaması oluşturacağız. Ardından dinamik parametrelerin nasıl ayrıldığını ve bunları nasıl ele alınacağını öğreneceğiz.

1.  Adlı yeni bir ASP.NET projesi oluşturma **DynamicParameterSample**.

     ![Boş bir ASP.NET web uygulaması projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2.  Adlandırılan web formu ekleyin *Querystring.aspx*.

3.  Tasarım görünümünde, bir Hiddenfield'i sayfanın üzerine ve içinde sürükleyin, sonra (ID) özellik değerini HiddenFieldSessionID olarak değiştirin.

     ![Bir Hiddenfield'i Ekle](../test/media/web_test_dynamicparameter_hiddenfield.png)

4.  Querystring sayfası için kaynak görünümünü değiştirin ve sahte oturum kimliği dinamik parametreleri oluşturmak için kullanılan ASP.NET ve JavaScript kodu aşağıdaki vurgulanmış ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5.  Açık *Querystring.aspx.cs* dosya ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6.  Adlı ikinci bir web formu ekleyin *ASPQuery.aspx*.

7.  Tasarım görünümünde sürükleyin bir **etiket** sayfaya ve değerini kendi **(ID)** özelliğini **IndexLabel**.

     ![Web formu için bir etiket ekleyin](../test/media/web_test_dynamicparameter_label.png)

8.  Sürükleme bir **köprü** sayfaya yü değiştirip kendi **metin** özelliğini **geri**.

     ![Web formu için köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. Seçin **(...)**  için **NavigationURL** özelliği.

     ![NavigateURL özelliğini Düzenle](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     Seçin *Querystring.aspx*.

     ![Querystring.aspx olarak URL seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. Açık *ASPQuery.aspx.cs* dosya ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. Adlandırılan üçüncü bir web formu ekleyin *JScriptQuery.aspx*.

     İkinci sayfada yaptığımız gibi sürükleyin bir **etiket** forma ayarlama, **(ID)** özelliğini **IndexLabel** sürükleyin bir **köprü** Forma ayarlama, **metin** özelliğini **geri**ve onun **NavigationURL** özelliğini **Querystring.aspx**.

     ![Ekleme ve yapılandırma üçüncü web formu](../test/media/web_test_dynamicparameter_addwebform3.png)

12. Açık *JScriptQuery.aspx.cs* dosya ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydedin.

14. İçinde **Çözüm Gezgini**ayarlayın *Querystring.aspx* başlangıç sayfası olarak.

     ![Başlangıç sayfası üzerinde Querystring.aspx olarak ayarla](../test/media/web_test_dynamicparameter_setstartpage.png)

15. Tuşuna **Ctrl**+**F5** tarayıcıda web uygulamasını çalıştırmak için. URL'yi kopyalayın. Testinizi kaydederken buna gerek.

16. Her iki bağlantıyı da deneyin. Her "Başarılı." iletisini görüntülenmelidir Dinamik sorgu dizisi parametresi bulundu."

     ![Web uygulamasını çalıştırma](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarılı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1.  Çözümünüze web performansı ve yük testi projesi ekleyin.

     ![Web performans ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2.  WebTest1.webtest öğesini DynamicParameterSampleApp.webtest olarak yeniden adlandırın.

     ![Web performans testini yeniden adlandır](../test/media/web_test_dynamicparameter_renametest.png)

3.  Testi Kaydet.

     ![Web performans testi Kaydet](../test/media/web_test_dynamicparameter_recordtest.png)

4.  Kopyalama ve tarayıcıda test ettiğiniz Web sitesinden URL'yi yapıştırın.

     ![Test edilen Web sitesinden URL'yi yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5.  Web uygulaması aracılığıyla göz atın. ASP.NET bağlantısını, geri bağlantısını ve ardından geri bağlantısıyla ardından javascript bağlantısını seçin.

     Web Testi Kaydedicisi, web uygulamasında gezinirken HTTP istek ve yanıt URL'lerini görüntüler.

6.  Seçin **Durdur** test kaydedicisinde düğmesi.

     Dinamik parametreleri algılama iletişim kutusunda, alınan HTTP yanıtlarında parametre algılama durumunu gösteren bir ilerleme çubuğu görüntülenir.

7.  ASPQuery sayfasındaki CustomQueryString için dinamik parametre otomatik olarak algılanır. Ancak JScriptQuery sayfasındaki CustomQueryString için dinamik parametre algılanmaz.

     Seçin **Tamam** bir ayıklama kuralı eklemek için *Querystring.aspx*, ASPQuery sayfasına bağlayarak.

     ![Saptanan dinamik parametre Yükselt](../test/media/web_test_dynamicparameter_promotedialog.png)

     Ayıklama kuralı ilk istek için eklenen *Querystring.aspx*.

     ![Ayıklama kuralı isteğine eklenmesi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     İstek ağacında ikinci isteği genişletin *ASPQuery.aspx* ve CustomQueryString'ın değerinin çıkarma kuralına bağlı olduğuna dikkat edin.

     ![Çıkarma kuralına bağlı CustomQueryString](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8.  Testi kaydedin.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanmayan dinamik parametreyi yalıtmak için testi çalıştırın

1.  Testi çalıştırın.

     ![Web performans testini çalıştırın](../test/media/web_test_dynamicparameter_runtest.png)

2.  İçin dördüncü istek *JScriptQuery.aspx* sayfasında başarısız olur. Web testine gidin.

     ![Test sonuçları içinde dinamik parametre hatası](../test/media/web_test_dynamicparameter_runresults.png)

     *JScriptQuery.aspx* isteği düğümü düzenleyicide vurgulanır. Düğümünü genişletin ve CustomQueryString'in "1v0yhyiyr0raa2w4j4pwf5zl" kısmının dinamik olarak göründüğüne dikkat edin.

     ![Dinamik parametre CustomQueryString şüpheli](../test/media/web_test_dynamicparameter_runresults2.png)

3.  Web Performans Test Sonuçları Görüntüleyicisi'ne dönün ve seçin *JScriptQuery.aspx* sayfasında başarısız oldu. Daha sonra istek sekmesini seçin, ham veriyi göster onay kutusunu işaretlenmemiş olduğunu doğrulayın, aşağı kaydırın ve CustomQueryString üzerinde Hızlı Bul öğesini seçin.

     ![Dinamik parametre ayırmak için Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4.  Test düzenleyicisine baktığımız bakarak biliyoruz, *JScriptQuery.aspx* request's CustomQueryString'in bir değeri atandı: `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl`, ve şüpheli dinamik bölümün "1v0yhyiyr0raa2w4j4pwf5zl" olduğunu. Aranan açılır listesinde, arama dizesinin şüpheli bölümünü kaldırın. Dize "CustomQueryString = jScriptQueryString___".

     Dinamik parametrelere değerleri hataya sahip istekten önce gelen isteklerden isteklerden birini atanır. Bu nedenle, arama onay kutusunu seçin ve istek için önceki görünceye kadar Sonrakini Bul öğesini *Querystring.aspx* istek panelinde vurgulanır. Bul üç kez sonraki seçtikten sonra gerçekleşmelidir.

     ![Dinamik parametreyi yalıtmak için Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesini ve uygulanmış Javascript'te gösterildiği gibi daha önce aşağıda gösterilen CustomQueryString sorgu dizesi parametresi "jScriptQueryString___" değeri atanır ve var SessionId'den döndürülen değerle birleştirilir.

    ```javascript
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Artık, nerede hata oluştuğunu ve ayrıca SessionID değerini ayıklamak ihtiyacımız biliyoruz. Bu nedenle SessionID'nin gerçek değerinin görüntülendiği bir dizeyi bulmaya çalışarak hatayı daha da yalıtmak seçmeliyiz ancak çıkarma değeri yalnızca metindir. Koda bakarak var SessionID'nin HiddenFieldSessionID tarafından döndürülen değere eşit olduğunu görebilirsiniz.

5.  Kullanım hızlı arama onay kutusunu temizleyerek ve geçerli isteği seçerek HiddenFieldSessionID üzerinde bulun.

     ![HiddenFieldSession üzerinde Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Bir değer değil aynı dize orijinal web performans testi kaydındakiyle döndürdüğünü dikkat edin. Bu test çalıştırması için döndürülen değer "5w4v3yrse4wa4axrafykqksq" olur ve özgün kayıtta "1v0yhyiyr0raa2w4j4pwf5zl" değeridir. Değer özgün kaydın değeriyle eşleşmediği için hata oluşturulur.

6.  Biz orijinal kayıtta dinamik parametreyi düzeltmek zorunda olduğunuzdan araç çubuğunda kayıtlı sonucu seçin.

     ![Kayıtlı sonucu seçin](../test/media/web_test_dynamicparameter_recordedresult.png)

7.  Kaydedilen sonuçlar içindeki aynı olan üçüncü isteği seçin *Querystringrequest.aspx* test çalıştırma sonuçlarında yalıtılmış isteği.

     ![Kaydedilen sonuçlar içindeki aynı istekte seçin](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, aşağıya inin ve daha önce yalıttığınız "1v0yhyiyr0raa2w4j4pwf5zl" orijinal dinamik parametre değerini seçin ve bir ayıklama kuralı ekleyin.

     ![Dinamik parametre için bir ayıklama kuralı ekleme](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni ayıklama kuralı eklenir *Querystring.aspx* istemek ve 'Param0' değeri atanır.

     İletişim kutusunu seçmek için parametrenin bağlanacağı ayıklanan metin için eşleşme bulunduğunu bize bilgisini verirse **Evet**.

     ![Ayıklama kuralı oluşturuldu](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8.  Seçin **Sonrakini Bul**. İlk eşleşmeyi değiştirmek için gereken ve JScriptQuery sayfası için CustomQueryString parametresi olan sertifikadır.

     ![Parametresi için metin bulma ve değiştirme](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. Seçin **değiştirin**.

     ![Metin parametresi ile değiştirin.](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     Altındaki QueryString parametresi *JScriptQuery.aspx* isteği yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString = jScriptQueryString___ {{Param0}}.

     ![Sorgu dizesi için uygulanan parametresi](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. Kapat **Bul ve Değiştir** iletişim. İstek ağacında, saptanan dinamik parametre ile ilişkilendirdiğiniz saptanmamış algılanmayan dinamik parametreyi arasındaki benzer yapıya dikkat edin.

     ![Algılanan ve bağıntılı dinamik parametreleri](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Şimdi, hatasız çalışmaktadır.

## <a name="qa"></a>SORU- CEVAP

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>Web Uygulamam değiştirdiyse dinamik parametrelerin algılanması yeniden çalıştırabilir miyim?

 **Y:** Evet, aşağıdaki yordamı kullanın:

1.  Araç çubuğunda seçin **dinamik parametreleri Web Test Parametrelerine Yükselt** düğmesi.

     Herhangi bir dinamik parametre algılanırsa, algılama işlemi tamamlandıktan sonra **Yükselt dinamik parametreleri web test parametreleri** iletişim kutusu görüntülenir.

     Dinamik parametreler, dinamik parametreler sütununun altında listelenir. Dinamik parametre gelen ayıklanır ve bağlı olduğunu istekler yanıttan parametreyi Ayıkla yanıt ve bağlama istek sütunlarına altında listelenir.

     Bir dinamik parametreyi seçerseniz **Yükselt dinamik parametreleri web test parametreleri** iletişim kutusu, iki isteği Web Performans Test Düzenleyicisi istek ağacında vurgulanan. İlk istek, ayıklama kuralı ekleneceği istek olacaktır. Burada Ayıklanan değerin bağlanacağı ikinci isteğidir.

2.  Seçin veya otomatik olarak ilişkilendirmek istediğiniz dinamik parametrelerin yanındaki onay kutusunu temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>S: dinamik parametreleri algılamak için Visual Studio'yu yapılandırma gerekiyor?

 **Y:** varsayılan Visual Studio, web performans testi kaydettiğinizde dinamik parametreleri algılamak için bir yapılandırmadır. Ancak, varsa Visual Studio seçenekleri dinamik parametreleri algılamamak üzere yapılandırılmışsa veya test edilen web uygulaması ek dinamik parametrelerle değiştirilmişse; Web Performans Test Düzenleyicisi'nden dinamik parametre algılama yine de çalıştırabilirsiniz.